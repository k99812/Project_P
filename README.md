## ì–¸ë¦¬ì–¼ í¬íŠ¸í´ë¦¬ì˜¤ ì œì‘

https://github.com/user-attachments/assets/069e524b-0c41-4e2f-8500-731cfae0d5d6

30fps, 100pktLag ìƒí™©ì—ì„œ ë™ì‘ì…ë‹ˆë‹¤

<br/>

ì•„ë˜ ë¸”ë¡œê·¸ ë§í¬ì—ì„œ ì½”ë“œ ë° êµ¬í˜„ ì¼ì§€ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤   
ë˜í•œ ì°¨íŠ¸ë§í¬ì—ì„  í”Œë¡œìš°ì°¨íŠ¸ì™€ í´ë˜ìŠ¤ êµ¬ì¡°ë„ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.   

<br/>

<a href="https://k99812.tistory.com/category/%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4%20%EC%A0%9C%EC%9E%91" height="5" width="10" target="_blank" >
<img src="https://img.shields.io/badge/ë¸”ë¡œê·¸ ë§í¬-E4501E?style=for-the-badge&logo=Tistory&logoColor=white">
</a>
<a href="https://www.figma.com/board/mI7YbWfbptJudhKcpAZP3U/Project-P-System-flow?node-id=0-1&t=OYhRpfOBPwjB6KUq-1" height="5" width="10" target="_blank" >
<img src="https://img.shields.io/badge/í”Œë¡œìš° ì°¨íŠ¸ (Figma)-000000?style=for-the-badge&logo=figma&logoColor=white">
</a>

<br/>

## ëª©ì°¨

<details>
<summary>ğŸ“– ëª©ì°¨ ë³´ê¸° (Click to Expand)</summary>

* [ê°œìš”](#ê°œìš”)
* [ê°œì„  ì‚¬í•­](#ê°œì„ -ì‚¬í•­)
* [ìºë¦­í„° êµ¬ì¡°](#Character-êµ¬ì¡°)
* [ì…ë ¥ ì²˜ë¦¬](#ì…ë ¥ì²˜ë¦¬)
* [ì½¤ë³´ ê³µê²©](#Combo-Attack)
* [ì• ë‹ˆë©”ì´ì…˜](#Animation)
* [AI](#AIController)
* [GameMode](#GameMode)
* [PlayerController](#PlayerController)
* [UI](#UI)

</details>

<br/>

## ê°œìš”
| í•­ëª© | ë‚´ìš© | ë¹„ê³  |
|------|------|------|
| ê°œë°œ ê¸°ê°„ | 2024.06 ~ 2025.03 <br> 2025.11 ~  |
| ì—”ì§„ | Unreal Engine 5.3.2 |
| ì–¸ì–´ | C++ / Blueprint |
| ì£¼ìš” ì‹œìŠ¤í…œ | GAS / AI / UMG / Input <br/> Animation / Network |

## ì£¼ìš” ê¸°ëŠ¥
### ì „íˆ¬ ì‹œìŠ¤í…œ (GAS ê¸°ë°˜)
- ì–´ë¹Œë¦¬í‹°, ì–´íŠ¸ë¦¬ë·°íŠ¸ì…‹ ê¸°ë°˜ì˜ ì½¤ë³´ ê³µê²©, ê³µê²© íŒì • ì„¤ê³„ ë° êµ¬í˜„
- ê²Œì„ í”Œë ˆì´ íƒœê·¸ë¥¼ í™œìš©í•œ ì œì–´ ë° ìƒíƒœ ê´€ë¦¬
- Trace ê¸°ë°˜ì˜ ê³µê²© íŒì •, íƒ€ê²© ì‹œ GEë¥¼ í†µí•œ ë°ë¯¸ì§€ ì²˜ë¦¬

### ì• ë‹ˆë©”ì´ì…˜ ì‹œìŠ¤í…œ
- Locomotion, Jump, AimOffset, UpperBody Layer ë¸”ë Œë”© êµ¬ì„±
- Montage, AnimNotify ê¸°ë°˜ ì½¤ë³´ ì—°ê³„ ë° íƒ€ê²© íƒ€ì´ë° ì²˜ë¦¬

### UI ì—°ë™
- HP Bar, ë°ë¯¸ì§€ í”Œë¡œíŒ… í…ìŠ¤íŠ¸, í”Œë ˆì´ì–´ HUD, ì‚¬ë§/ì¬ì‹œì‘ UI êµ¬í˜„
- Attribute ì—°ë™ì„ í†µí•œ UI ì‹¤ì‹œê°„ ê°±ì‹  (Delegate í™œìš©)

### AI ì‹œìŠ¤í…œ
- Behavior Tree, AIController ê¸°ë°˜ ì¶”ì , ê³µê²©, ì¸ì‹ AI êµ¬í˜„
- AI Perceptionì„ í†µí•œ ì‹œì•¼, ë°ë¯¸ì§€ ê¸°ë°˜ ì¸ì‹ ë¡œì§ ì„¤ê³„

### ì…ë ¥ ì²˜ë¦¬
- Enhanced Input System ê¸°ë°˜ ì…ë ¥ ë° ë°”ì¸ë”©
- ENUMì„ í™œìš©í•œ ìœ ì§€ë³´ìˆ˜ ìš©ì´í•œ ì„¤ê³„

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>

<br/>

## ê°œì„  ì‚¬í•­
ì•„ë˜ì˜ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ë” ìì„¸í•œ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<br/>

### AnimInstance
* AnimInstanceì—ì„œ Owner ë³€ìˆ˜ë¥¼ PPGASCharacterPlayerì—ì„œ ACharacterë¡œ ë³€ê²½ 
* AnimInstanceì—ì„œ PPGASCharacterPlayerë¥¼ ì§ì ‘ì°¸ì¡°í•˜ì—¬ ë¸ë¦¬ê²Œì´íŠ¸ì— ì—°ê²°í•˜ëŠ” ë¡œì§ì„ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ì—°ê²°í•˜ë„ë¡ ë³€ê²½
<a href="https://k99812.tistory.com/130" height="5" width="10" target="_blank" >
<img src="https://img.shields.io/badge/ë¸”ë¡œê·¸ ê¸€ ë§í¬-E4501E?style=for-the-badge&logo=Tistory&logoColor=white">
</a>

<br/>

### Monster AI
* ëª¬ìŠ¤í„°ì˜ ì´ë™ë°©í–¥ìœ¼ë¡œ íšŒì „ì„ Orient Rotation to Movementë¡œ êµ¬í˜„
* ì´ë¡œì¸í•´ ëª¬ìŠ¤í„°ê°€ ì •ì°°í•  ë•Œ AIì˜ ì‹œì•¼ê°€ ëª¬ìŠ¤í„°ê°€ ë°”ë¼ë³´ëŠ” ê³³ê³¼ ì¼ì¹˜í•˜ì§€ ì•ŠìŒ
* í–‰ë™íŠ¸ë¦¬ì— ëª¬ìŠ¤í„°ê°€ ì´ë™ ì „ ëª©í‘œë°©í–¥ìœ¼ë¡œ íšŒì „í•˜ëŠ” í…ŒìŠ¤í¬ë¥¼ êµ¬í˜„í•´ í•´ê²°
<a href="https://k99812.tistory.com/155" height="5" width="10" target="_blank" >
<img src="https://img.shields.io/badge/ë¸”ë¡œê·¸ ê¸€ ë§í¬-E4501E?style=for-the-badge&logo=Tistory&logoColor=white">
</a>

<br/>

### ì½¤ë³´ê³µê²© ê°œì„  ë° ë„¤íŠ¸ì›Œí¬ ì§€ì›
* ê¸°ì¡´ Timerë¥¼ ì´ìš©í•œ ê³µê²©ë¡œì§ì€ í´ë¼ì´ì–¸íŠ¸ì˜ í”„ë ˆì„ì´ ë¶ˆì•ˆì •í•˜ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ ë ‰ì´
  ë°œìƒí•  ê²½ìš° í´ë¼ì´ì–¸íŠ¸ê°€ ì…ë ¥ì„ í•´ë„ ì”¹íˆëŠ” í˜„ìƒ ë°œìƒ
* ê³µê²© ë¡œì§ì„ GASì˜ AbilityTaskì™€ GameplayTagë¥¼ í™œìš©í•˜ëŠ” GAS ì´ë²¤íŠ¸ë¥¼ í™œìš©í•˜ì—¬ ê°œì„ í•¨
* ë˜í•œ ë„¤íŠ¸ì›Œí¬ ì§€ì›ì„ ìœ„í•´ ê¸°ì¡´ GAS ì´ˆê¸°í™” ë¡œì§ì„ ê°œì„ í•¨
<a href="https://k99812.tistory.com/192" height="5" width="10" target="_blank" >
<img src="https://img.shields.io/badge/ë¸”ë¡œê·¸ ê¸€ ë§í¬-E4501E?style=for-the-badge&logo=Tistory&logoColor=white">
</a>

### ê³µê²©íŒì • ê°œì„ 
* ê¸°ì¡´ì— êµ¬í˜„í•˜ì—¬ ì‚¬ìš©í•˜ë˜ ì–´ë¹Œë¦¬í‹° í…ŒìŠ¤í¬ë¥¼   
  ì–¸ë¦¬ì–¼ì—ì„œ ë„¤íŠ¸ì›Œí¬ë¥¼ ê³ ë ¤í•˜ë©° ì„¤ê³„í•œ ì–´ë¹Œë¦¬í‹° í…ŒìŠ¤í¬ë¡œ êµì²´
* ê°œì„ ê²°ê³¼ë¡œ í´ë¼ì´ì–¸íŠ¸, ì„œë²„ ë‘ ê³³ ëª¨ë‘ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” GA êµ¬í˜„
<a href="https://k99812.tistory.com/196" height="5" width="10" target="_blank" >
<img src="https://img.shields.io/badge/ë¸”ë¡œê·¸ ê¸€ ë§í¬-E4501E?style=for-the-badge&logo=Tistory&logoColor=white">
</a>

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>

<br/>


# ê¸°ìˆ  ì„¤ëª…ì„œ

## Character êµ¬ì¡°
![image](https://github.com/user-attachments/assets/7e81a2ac-d643-4896-a3df-c9fcce9a7544)


### CharacterBase
í”Œë ˆì´ì–´ ìºë¦­í„°, NPC ìºë¦­í„°ê°€ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ ë° ë³€ìˆ˜ ì„ ì–¸
* Dead ì´ë²¤íŠ¸ ê´€ë ¨ í•¨ìˆ˜ ë° ëª½íƒ€ì£¼
* ì½¤ë³´ê³µê²© ê´€ë ¨ ë³€ìˆ˜ ë° ëª½íƒ€ì£¼
* ìºë¦­í„°ì˜ ì†Œì†ì„ ê°€ì§„ ê²Œì„ í”Œë ˆì´ íƒœê·¸ ê´€ë¦¬


### PlayerCharacter
ìºë¦­í„°ì˜ ìŠ¤íƒ¯ì„ ê´€ë¦¬í•˜ëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ì…‹ì€ í”Œë ˆì´ì–´ ìŠ¤í…Œì´íŠ¸ í´ë˜ìŠ¤ì— ì„ ì–¸
* ìºë¦­í„°ì˜ ëŠ¥ë ¥ ë° ìŠ¤íƒ¯ì„ ê´€ë¦¬ í•´ì£¼ëŠ” ASCë¥¼ ìƒì„±
* Dead ê´€ë ¨ í•¨ìˆ˜ë“¤ì„ Override
* ì‚¬ìš©ì ì…ë ¥ì²˜ë¦¬
* GA ê´€ë¦¬ 
* ì–´íŠ¸ë¦¬ë·°íŠ¸ì…‹ ì ìš©


### NonPlayerCharacter
ì¶”í›„ ë³´ìŠ¤ëª¬ìŠ¤í„°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆì–´ ë³´ìŠ¤ëª¬ìŠ¤í„°, ì¡ëª¹ì˜ ê³µí†µ í•¨ìˆ˜ ë° ë³€ìˆ˜ë¥¼ ì„ ì–¸
* ëŠ¥ë ¥, ìŠ¤íƒ¯ ê´€ë¦¬ ASC ìƒì„±
* ìŠ¤íƒ¯ì„ ì €ì¥í•  ì–´íŠ¸ë¦¬ë·°íŠ¸ì…‹ ìƒì„±
* Dead ê´€ë ¨ í•¨ìˆ˜ Override

### CharacterGrunt
ì¡ëª¹ í´ë˜ìŠ¤
* ì²´ë ¥ HPBar ìœ„ì ¯ ê´€ë¦¬
* ì–´íŠ¸ë¦¬ë·°íŠ¸ ì´ˆê¸°í™”

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>


## ì…ë ¥ì²˜ë¦¬
![image](https://github.com/user-attachments/assets/8c7fb823-4e61-4d59-81b2-43ccdae2e110)
 
EnhancedInputì„ ì‚¬ìš©
* InputMappintContextì—ì„œ InputActionì„ ë§µí•‘ í›„ ì €ì¥

## GA(ëŠ¥ë ¥) ì²˜ë¦¬
GAì˜ ë¶€ì—¬ëŠ” ìºë¦­í„°ê°€ ë¹™ì˜ë ë•Œ í˜¸ì¶œë˜ëŠ” PossessedBy í•¨ìˆ˜ì—ì„œ ì§„í–‰ë¨

> APPGASCharacterPlayer

    //í—¤ë”íŒŒì¼
    UPROPERTY(EditAnywhere, Category = "GAS")
    TArray<TSubclassOf<class UGameplayAbility>> StartAbilites;

    //CppíŒŒì¼ PossessedBy í•¨ìˆ˜
    for (const TSubclassOf<UGameplayAbility>& StartAbility : StartAbilites)
    {
	         //ASCëŠ” ì§ì ‘ì ìœ¼ë¡œ GAë¥¼ ì ‘ê·¼, ê´€ë¦¬í•˜ëŠ”ê²Œ ì•„ë‹Œ
	         //FGameplayAbilitySpec êµ¬ì¡°ì²´ë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ ê´€ë¦¬í•¨
         	 FGameplayAbilitySpec Spec(StartAbility);

         	 ASC->GiveAbility(Spec);
    }
    
![image](https://github.com/user-attachments/assets/2136441d-ce6b-497b-ac62-bdf38ce5952e)

<br/>

* ì‹¤í–‰ì— ì…ë ¥ì´ í•„ìš”ì—†ëŠ” GA(Ex ê³µê²©íŒì •)ë“¤ì€ TArrayë¥¼ ì‚¬ìš©í•´ ì €ì¥  
* ìºë¦­í„° ë¸”ë£¨í”„ë¦°íŠ¸ í´ë˜ìŠ¤ë¥¼ í†µí•´ TArrayì— GAë¥¼ ì§€ì •

<br/>

> PPInputEnum.h

 	UENUM(BlueprintType)
	enum class EInputAbility : uint8
	{
		None UMETA(DisplayName = "None"),
		Jump = 10 UMETA(DisplayName = "Jump"),
		Sprint UMETA(DisplayName = "Sprint"),
		LeftAttack UMETA(DisplayName = "LAttack"),
		RightAttack UMETA(DisplayName = "RAttack"),
		Skill UMETA(DisplayName = "Skill")
	};

* ì…ë ¥ IDë¡œ TMapì˜ Keyë¡œ ì—´ê±°í˜•ì„ ì‚¬ìš©í•˜ì—¬ Keyê°’ì„ INTë¡œ ì‚¬ìš©í•  ë•Œ ë³´ë‹¤ ì§ê´€ì ì„  
* ë³„ë„ì˜ í—¤ë”íŒŒì¼ì„ ë§Œë“¤ì–´ êµ¬í˜„í•´ ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ GAë¥¼ ì‚¬ìš©í• ë•Œ í•´ë‹¹ í—¤ë”ë¥¼ ì¶”ê°€í•˜ì—¬ ì‚¬ìš© ê°€ëŠ¥

 <br/>

> APPGASCharacterPlayer

    //í—¤ë”íŒŒì¼
    UPROPERTY(EditAnywhere, Category = "GAS")
    TMap<EInputAbility, TSubclassOf<class UGameplayAbility>> StartInputAbilites;

    //CppíŒŒì¼ PossessedBy í•¨ìˆ˜
    for (const TPair<EInputAbility, TSubclassOf<class UGameplayAbility>>& StartInputAbility : StartInputAbilites)
    {
		FGameplayAbilitySpec Spec(StartInputAbility.Value);
		Spec.InputID = (int32)StartInputAbility.Key;

		ASC->GiveAbility(Spec);
    }


![image](https://github.com/user-attachments/assets/94a63822-dcae-474e-a31a-ca5538c30a11)

<br/>

* ì…ë ¥ì„ í†µí•´ì„œ ë°œë™ë˜ëŠ” GAë“¤ì€ TMapì„ í™œìš©í•´ <ì—´ê²¨í˜•, GA> Keyê°’ì„ GAë¥¼ ë¶€ì—¬í• ë•Œ InputIDë¡œ ì§€ì •  

<br/>

> APPGASCharacterPlayer

 	//SetupGASPlayerInputComponent í•¨ìˆ˜
 	EnhancedInputComponent->BindAction(JumpAction, ETriggerEvent::Triggered, this, &APPGASCharacterPlayer::GASInputPressed, (int32)EInputAbility::Jump);

* ì¸í’‹ì»´í¬ë„ŒíŠ¸ì— í•¨ìˆ˜ë¥¼ ë°”ì¸ë“œí•  ë•Œ ì—´ê±°í˜•ì„ í™œìš©í•˜ì—¬ ë°”ì¸ë“œëœ í•¨ìˆ˜ì— í‚¤ê°’ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬

<br/>

> APPGASCharacterPlayer

	//GASInputPressed í•¨ìˆ˜
	void APPGASCharacterPlayer::GASInputPressed(int32 InputID)
	{
		FGameplayAbilitySpec* Spec = ASC->FindAbilitySpecFromInputID(InputID);
  
  		if (Spec)
		{
			Spec->InputPressed = true;

			if (Spec->IsActive())
			{
				//ì–´ë¹Œë¦¬í‹°ê°€ ì‹¤í–‰ì¤‘ì´ë©´ GAì˜ InputPressed í•¨ìˆ˜ ì‹¤í–‰
				ASC->AbilitySpecInputPressed(*Spec);
			}
			else
			{
				//ì–´ë¹Œë¦¬í‹° Activate ì‹¤í–‰
				//ì–´ë¹Œë¦¬í‹°ì˜ ì‹¤í–‰ ë“± ASCë¡œë¶€í„° GAë¥¼ ë‹¤ë£¨ëŠ”ê±´ Handleì„ í†µí•´ ì»¨íŠ¸ë¡¤
				ASC->TryActivateAbility(Spec->Handle);
			}
		}
  	}

    	//GASInputReleased í•¨ìˆ˜
     	if (Spec->IsActive())
     	{
     		//ì–´ë¹Œë¦¬í‹°ê°€ ì‹¤í–‰ì¤‘ì´ë©´ GAì˜ InputReleased ì‹¤í–‰
     		ASC->AbilitySpecInputReleased(*Spec);
     	}

* ì „ë‹¬ë°›ì€ ì—´ê±°í˜•(í‚¤ê°’)ì„ í†µí•´ ì–´ë¹Œë¦¬í‹° ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸(ASC)ì—ì„œ ë“±ë¡ëœ GAì˜ ìŠ¤í™ì„ ê°€ì ¸ì˜´   
* ì–´ë¹Œë¦¬í‹°ìŠ¤í™ì„ í†µí•´ GAë¥¼ ì‹¤í–‰ ë° ì·¨ì†Œ ë“± ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆìŒ

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>

<br/>

## Combo Attack

https://github.com/user-attachments/assets/a3cfa008-0c46-4d4e-8a13-b52bb8c2fbbd

![image](https://github.com/user-attachments/assets/360325b1-1141-4885-94fb-c94afd2047fb)
* GameAbilityë¥¼ ì‚¬ìš©í•´ ê°œë°œí•œ ì½¤ë³´ê³µê²© í”Œë¡œìš° ì°¨íŠ¸
* ê°œì„ ì „ ì½¤ë³´ê³µê²© ë¡œì§

<br/>

<img width="1540" height="998" alt="image" src="https://github.com/user-attachments/assets/8bf4f338-e735-4bd3-9560-e24f55018361" />
<img width="1389" height="573" alt="image" src="https://github.com/user-attachments/assets/a2ad0ee4-041a-4c41-8b1d-6fe629d0c976" />
<img width="1004" height="1082" alt="image" src="https://github.com/user-attachments/assets/de77e60f-0c3b-4af0-8d81-a115c6964730" />
<a href="https://k99812.tistory.com/192" height="5" width="10" target="_blank" >
<img src="https://img.shields.io/badge/ë¸”ë¡œê·¸ ê¸€ ë§í¬-E4501E?style=for-the-badge&logo=Tistory&logoColor=white">
</a>

* ê°œì„ í›„ ì½¤ë³´ê³µê²© ë¡œì§ì˜ í”Œë¡œìš° ì°¨íŠ¸ì™€ ë„¤íŠ¸ì›Œí¬ íë¦„ë„
* ë„¤íŠ¸ì›Œí¬ íë¦„ë„ì—ì„œ (InputOpenEvent, OnInputOpen),   
  (Re-Input, InputPresseed)ëŠ” ìˆœì„œê°€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* ìì„¸í•œ ë‚´ìš©ì€ ë¸”ë¡œê·¸ ê¸€ì„ í†µí•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br/>

## Attack Hit Check
![image](https://github.com/user-attachments/assets/49a357a4-081c-49bc-a447-edef2450c8d8)
* GameAbility, AbilityTask, TargetActorë¥¼ ì‚¬ìš©í•´ ê°œë°œí•œ ê³µê²© íˆíŠ¸ ì²´í¬ í”Œë¡œìš° ì°¨íŠ¸
* ê°œì„ ì „ ê³µê²©íŒì • ë¡œì§

<br/>

<img width="2872" height="1240" alt="image" src="https://github.com/user-attachments/assets/ea3bb68b-a552-4e35-9fdf-21eada09b9c1" />
<img width="1850" height="1343" alt="image" src="https://github.com/user-attachments/assets/a2ceaaec-1dd2-4e15-9b0e-e1b002341cca" />
<img width="2326" height="717" alt="image" src="https://github.com/user-attachments/assets/2665c359-8563-415f-b4b0-9e1d0b5600cc" />
<a href="https://k99812.tistory.com/196" height="5" width="10" target="_blank" >
<img src="https://img.shields.io/badge/ë¸”ë¡œê·¸ ê¸€ ë§í¬-E4501E?style=for-the-badge&logo=Tistory&logoColor=white">
</a>

* ê¸°ì¡´ êµ¬í˜„í–ˆë˜ ì–´ë¹Œë¦¬í‹° í…ŒìŠ¤í¬ë¥¼ ì–¸ë¦¬ì–¼ì—ì„œ ì œê³µí•˜ëŠ”   
  UAbilityTask_WaitTargetData í…ŒìŠ¤í¬ë¡œ ë³€ê²½
* ê°œì„  ê²°ê³¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ì˜ˆì¸¡ êµ¬í˜„,
  ì„œë²„-í´ë¼ ë‘ ê³³ ëª¨ë‘ì—ì„œ ì“¸ ìˆ˜ ìˆëŠ” GA êµ¬í˜„
* ìì„¸í•œ ë‚´ìš©ì€ ë¸”ë¡œê·¸ ê¸€ì„ í†µí•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br/>

### ë°ë¯¸ì§€ ì´ë²¤íŠ¸ ì‹¤í–‰
HitCheck ê³¼ì •ì—ì„œ ë°ë¯¸ì§€ë¥¼ ì£¼ëŠ” ì•¡í„°(ê°€í•´ì) ë°ë¯¸ì§€ë¥¼ ë°›ëŠ” ì•¡í„°(í”¼í•´ì)ë¥¼ ë‘˜ë‹¤ ì‰½ê²Œ   
ì•Œ ìˆ˜ ìˆì–´ì„œ í•´ë‹¹ í•¨ìˆ˜ì—ì„œ ë°ë¯¸ì§€ ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰ì‹œí‚´

> UPPGA_AttackHitCheck

	//TraceResultCallback->ServerApplyHitLogic
	//ServerApplyHitLogic í•¨ìˆ˜ì—ì„œ GameEffect íƒ€ê²Ÿì´ ëª¬ìŠ¤í„°ì¼ ê²½ìš° ì‹¤í–‰
	IGameplayTagAssetInterface* TargetActor = Cast<IGameplayTagAssetInterface>(HitResult.GetActor());
	if (TargetActor && TargetActor->HasMatchingGameplayTag(PPTAG_CHARACTER_MONSTER))
	{
		UAISense_Damage::ReportDamageEvent(this, HitResult.GetActor(), OwnerASC->GetAvatarActor(),
			OwnerAttributeSet->GetAttackRate(), HitResult.GetActor()->GetActorLocation(), HitResult.Location);
	}

* IGameplayTagAssetInterfaceë¥¼ í†µí•˜ì—¬ ì•¡í„°ê°€ ëª¬ìŠ¤í„°(ëª¬ìŠ¤í„° íƒœê·¸)ì¸ì§€ í™•ì¸
* ëª¬ìŠ¤í„°ì¸ ê²½ìš° UAISense_Damage::ReportDamageEvent í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ë°ë¯¸ì§€ ì´ë²¤íŠ¸ ì‹¤í–‰

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>

<br/>


## Animation
### ì „ì²´ AnimGraph
![image](https://github.com/user-attachments/assets/64146ffd-b744-4bdf-a716-b30218c425f7)

### GroundLoco
![image](https://github.com/user-attachments/assets/896eefde-9528-4ecd-965c-958545f0756f)
![image](https://github.com/user-attachments/assets/a0843bb2-cb3e-416a-917e-8d9709ea03db)
   
> Character

	//APPGASCharacterPlayer.h
 	DECLARE_DELEGATE(FInputReleasedDelegate);
 	FInputReleasedDelegate InputReleasedDelegate;

  	//ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ AnimInstanceë¥¼ ë„˜ê²¨ ë°›ìŒ
  	virtual void BindInputReleasedDelegate(class UPPAnimInstance* InAnimInstance) override;

 	//APPGASCharacterPlayer.cpp
  	void APPGASCharacterPlayer::MoveInputReleased()
	{
		InputReleasedDelegate.Execute();
	}

 	void APPGASCharacterPlayer::BindInputReleasedDelegate(UPPAnimInstance* InAnimInstance)
	{
		InputReleasedDelegate.BindUObject(InAnimInstance, &UPPAnimInstance::SaveLastDirection);
	}

* ì›€ì§ì´ëŠ” ë°©í–¥ì— ë§ëŠ” StopAnimationì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ í”Œë ˆì´ì–´ ìºë¦­í„°ì— ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ìƒì„±í•¨
* í”Œë ˆì´ì–´ì˜ ì…ë ¥ì´ ëë‚˜ë©´ ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ë§ˆì§€ë§‰ìœ¼ë¡œ ì›€ì§ì¸ ë°©í–¥ì„ ê³„ì‚°
* AnimInstance í´ë˜ìŠ¤ì—ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•´ ìºë¦­í„°ì˜ ë¸ë¦¬ê²Œì´íŠ¸ì— AnimInstance í´ë˜ìŠ¤ì˜ í•¨ìˆ˜ë¥¼ ë°”ì¸ë“œ


<br/>

> UPPAnimInstance

	//NativeInitializeAnimation
	Owner = Cast<ACharacter>(GetOwningActor());
	if (Owner)
	{
		IPPAnimInterface* OwnerInter = Cast<IPPAnimInterface>(Owner);
		if (OwnerInter)
		{
			OwnerInter->BindInputReleasedDelegate(this);
		}
	}

 	//SaveLastDirection
	void UPPAnimInstance::SaveLastDirection()
	{
		LastDirection = CalculateDirection(Velocity , Movement->GetLastUpdateRotation());
	}
   
* NativeInitializeAnimation í•¨ìˆ˜ì—ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´   
  ìê¸°ìì‹ (AnimInstance)ì„ ë„˜ê²¨ ë¸ë¦¬ê²Œì´íŠ¸ì— ì½œë°±í•¨ìˆ˜ë¥¼ ë°”ì¸ë“œ
  
* SaveLastDirectioní•¨ìˆ˜ê°€ ë¸ë¦¬ê²Œì´íŠ¸ë¡œ í˜¸ì¶œë˜ë©´ CalculateDirectioní•¨ìˆ˜ë¡œ  
  Velocity(ìºë¦­í„°ê°€ ì›€ì§ì´ëŠ” ë°©í–¥), GetLastUpdateRotationì„ ë„˜ê²¨ Directionì„ ê³„ì‚°

<br/>
   
### GroundLoco + JumpLoco
![image](https://github.com/user-attachments/assets/fd1f9363-7740-4631-9f4e-d5b65d4997f4)

<br/>

### Loco + AimOffset
![image](https://github.com/user-attachments/assets/ec6ac10b-70c4-471b-8f8e-c997652cf305)  

* UPPAnimInstance ì—ì„œ AimRotation - ActorRotationìœ¼ë¡œ ë³´ê³ ìˆëŠ” ë°©í–¥ì˜ ë¡œí…Œì´ì…˜ì„ ê³„ì‚°í•˜ì—¬ AimOffsetì„ ì ìš©

> UPPAnimInstance

	FRotator DeltaRotation = UKismetMathLibrary::NormalizedDeltaRotator(AimRotation, ActorRotation);
 	Roll = DeltaRotation.Roll;
	Yaw = DeltaRotation.Yaw;
	Pitch = DeltaRotation.Pitch;

<br/>

### UpperBody
![image](https://github.com/user-attachments/assets/ca2b6773-7c4c-440b-b480-87c9be78478f)
* UpperBody ìŠ¬ë¡¯ ì• ë‹ˆë©”ì´ì…˜ ëª½íƒ€ì£¼ë¥¼ ì‹¤í–‰ ë° ì €ì¥
* Layered blend per boneì„ í†µí•´ íŠ¹ì • boneì„ ê¸°ì¤€ìœ¼ë¡œ UpperBody ëª½íƒ€ì£¼ ì‹¤í–‰ì‹œ ê¸°ì¡´ ì• ë‹ˆë©”ì´ì…˜ê³¼ í˜¼í•©ë˜ì–´ ì¬ìƒ

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>


<br/>


## AIController
https://github.com/user-attachments/assets/304a73f8-e93c-4e49-8669-28b2bcbe6248
![image](https://github.com/user-attachments/assets/37c90fd0-c08d-4018-9a61-3e35d7d1be04)  
<br/>
AIì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ AI Perception ê¸°ëŠ¥ì„ ì´ìš©í•´ ì ì„ ì¸ì‹ í•˜ì—¬ ë¸”ë™ë³´ë“œì— ì €ì¥   
AIê°€ ì ì„ ì¸ì‹í• ë•Œ ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ì´ìš©í•˜ì—¬ ëª¬ìŠ¤í„°ì˜ HPBarë¥¼ ì»¨íŠ¸ë¡¤
* AISense ê´€ë¦¬
* ë¸”ë™ë³´ë“œ, í–‰ë™íŠ¸ë¦¬ ê´€ë¦¬
* AIPerception ì´ë²¤íŠ¸ ì²˜ë¦¬

<br/>

> APPAIController

	//ìƒì„±ì
 	APPAIController::APPAIController()
	{
 		~~~
   
   		// Tick
		PrimaryActorTick.bCanEverTick = true;
		//AActor::SetActorTickEnabled() í•¨ìˆ˜ë¡œ ì¡°ì ˆ
		PrimaryActorTick.bStartWithTickEnabled = false;
  
		// AI Perception ì„¤ì •
		AIPerceptionComp = CreateDefaultSubobject<UAIPerceptionComponent>(TEXT("AIPerceptionComp"));
		SetPerceptionComponent(*AIPerceptionComp);

		// Sight Config
		SenseConfig_Sight = CreateDefaultSubobject<UAISenseConfig_Sight>(TEXT("SenseConfig_Sight"));

		//SightConfig ë³€ìˆ˜ ì´ˆê¸°í™”
  		SenseConfig_Sight->SightRadius = GruntAIData->SightRadius;
    
		~~~
  
		//ì‹œì•¼ ì„¼ìŠ¤ ë“±ë¡
		SenseConfig_Sight = CreateDefaultSubobject<UAISenseConfig_Sight>(TEXT("SenseConfig_Sight"));
		AIPerceptionComp->ConfigureSense(*SenseConfig_Sight);
		AIPerceptionComp->SetDominantSense(SenseConfig_Sight->GetSenseImplementation());

		//ë°ë¯¸ì§€ ì„¼ìŠ¤ ë“±ë¡
		SenseConfig_Damage = CreateDefaultSubobject<UAISenseConfig_Damage>(TEXT("SenseConfig_Damage"));
		SenseConfig_Damage->SetMaxAge(GruntAIData->AISenseAge);
		AIPerceptionComp->ConfigureSense(*SenseConfig_Damage);

		~~~

		//AI ì¸ì‹, ìŠí˜ ì´ë²¤íŠ¸ ë¸ë¦¬ê²Œì´íŠ¸ì— ì½œë°±í•¨ìˆ˜ ë°”ì¸ë“œ
  		AIPerceptionComp->OnTargetPerceptionUpdated.AddDynamic(this, &APPAIController::ActorPerceptionUpdated);
		AIPerceptionComp->OnTargetPerceptionForgotten.AddDynamic(this, &APPAIController::ActorPerceptionForgetUpdated);
	}

* bStartWithTickEnabled = false ë¡œ í‹±í•¨ìˆ˜ë¥¼ ë¹„í™œì„±í™”   
* SetActorTickEnabled í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ AIê°€ ìºë¦­í„°ë¥¼ ì¸ì‹í•˜ì˜€ì„ë•Œë§Œ í‹±í•¨ìˆ˜ ì‹¤í–‰   

<br/>
     
> APPAIController

	//Tick
	void APPAIController::Tick(float DeltaTime)
	{
		Super::Tick(DeltaTime);

		ResetTarget();
	}

	//ResetTarget í•¨ìˆ˜
	//í”Œë ˆì´ì–´ê°€ ì£½ì—ˆëŠ”ì§€ í™•ì¸
 	void APPAIController::ResetTarget()
	{
		~~~
  
		FGameplayTagContainer Tag(PPTAG_CHARACTER_ISDEAD);
		if (ASC->HasAnyMatchingGameplayTags(Tag))
		{
			GetBlackboardComponent()->SetValueAsObject(BBKEY_TARGET, nullptr);
			AActor::SetActorTickEnabled(false);
			FindTargetDelegate.ExecuteIfBound(false);
		}
  
  		~~~
	}

* ResetTarget í•¨ìˆ˜ì—ì„  ìºë¦­í„°ì˜ DeadTagë¥¼ í™•ì¸í•˜ì—¬ ìºë¦­í„°ì˜ ì£½ìŒì„ í™•ì¸   
* í‹±í•¨ìˆ˜ ë¹„í™œì„±í™”   
* FindTargetDelegate(ì½œë°±í•¨ìˆ˜ì—ì„œ ëª¬ìŠ¤í„°ì˜ HPBar ë¹„í™œì„±í™”) ì‹¤í–‰   

<br/>
   
> APPAIController

	//AI ì¸ì‹ ì—…ë°ì´íŠ¸
	void APPAIController::ActorPerceptionUpdated(AActor* Actor, FAIStimulus Stimulus)
	{
		APawn* PerceptionedPawn = Cast<APawn>(Actor);

		if (PerceptionedPawn && PerceptionedPawn->GetController()->IsPlayerController())
		{
			TSubclassOf<UAISense> SensedStimulsClass = UAIPerceptionSystem::GetSenseClassForStimulus(this, Stimulus);

			if (SensedStimulsClass == UAISense_Sight::StaticClass())
			{
				PerceptionSensedSight(PerceptionedPawn);
			}

			if (SensedStimulsClass == UAISense_Hearing::StaticClass())
			{
				PerceptionSensedHearing(PerceptionedPawn);
			}
		}
	}

* Actor ë³€ìˆ˜ëŠ” AIê°€ ê°ê°ì„ í†µí•´ ì¸ì‹í•œ ì•¡í„°
* Stimulusë³€ìˆ˜ì— AIì˜ ì–´ë–¤ ê°ê°ìœ¼ë¡œ í•¨ìˆ˜ê°€ í˜¸ì¶œëëŠ”ì§€ ì •ë³´ê°€ ë“¤ì–´ì˜´   
* GetSenseClass í•¨ìˆ˜ë¡œ í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì™€ í´ë˜ìŠ¤ì— ë§ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œ   

<br/>

https://github.com/user-attachments/assets/03e28172-f83d-4ee7-a1cf-95480447eeb4
	
> APPAIController

	//PerceptionSensedSight
	//AIê°€ ì‹œì•¼ë¥¼ í†µí•´ ì¸ì‹í–ˆì„ë•Œ ì‹¤í–‰
	void APPAIController::PerceptionSensedSight(APawn* PerceptionedPawn)
	{
		UAbilitySystemComponent* ASC = UAbilitySystemBlueprintLibrary::GetAbilitySystemComponent(PerceptionedPawn);
		if (ASC)
		{
			GetBlackboardComponent()->SetValueAsObject(BBKEY_TARGET, PerceptionedPawn);
			AActor::SetActorTickEnabled(true);
			FindTargetDelegate.ExecuteIfBound(true);
		}
	}

* BlackBoardì˜ íƒ€ê²Ÿë³€ìˆ˜ ì—…ë°ì´íŠ¸  
* í‹±í•¨ìˆ˜ í™œì„±í™”   
* FindTargetDelegate(ì½œë°±í•¨ìˆ˜ì—ì„œ ëª¬ìŠ¤í„°ì˜ HPBar í™œì„±í™”) ì‹¤í–‰   

<br/>

https://github.com/user-attachments/assets/e814d45d-6242-4d1b-b56a-287e2291645a

> APPAIController

	//PerceptionSensedDamage
	//AIê°€ ë°ë¯¸ì§€ë¥¼ í†µí•´ ì¸ì‹í–ˆì„ë•Œ ì‹¤í–‰
	void APPAIController::PerceptionSensedDamage(APawn* PerceptionedPawn)
	{
		if (IsValid(PerceptionedPawn))
		{
			GetBlackboardComponent()->SetValueAsObject(BBKEY_TARGET, PerceptionedPawn);
			AActor::SetActorTickEnabled(true);
			FindTargetDelegate.ExecuteIfBound(true);
		}
	}

* ë°ë¯¸ì§€ë¥¼ ì¤€ ì•¡í„°(ê°€í•´ì)ê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ë¨
* ë³€ìˆ˜ê°€ ìœ íš¨í•œì§€ í™•ì¸ í›„ ë¸”ë™ë³´ë“œì— ì €ì¥ ë° ê¸°íƒ€ ë¡œì§ ì‹¤í–‰

<br/>
   
> APPAIController

	//ActorPerceptionForgetUpdated
	//íƒ€ê²Ÿì´ ì‹œì•¼ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ê³  ì¼ì •ì‹œê°„ì´ ì§€ë‚¬ì„ë•Œ ì‹¤í–‰
	void APPAIController::ActorPerceptionForgetUpdated(AActor* Actor)
	{
		APawn* PerceptionedPawn = Cast<APawn>(Actor);

		if (PerceptionedPawn && PerceptionedPawn->GetController()->IsPlayerController())
		{
			APawn* Target = Cast<APawn>(GetBlackboardComponent()->GetValueAsObject(BBKEY_TARGET));
			if (PerceptionedPawn == Target)
			{
				GetBlackboardComponent()->SetValueAsObject(BBKEY_TARGET, nullptr);
				AActor::SetActorTickEnabled(false);
				FindTargetDelegate.ExecuteIfBound(false);
			}
		}
	}

* ë²—ì–´ë‚œ ì•¡í„°ê°€ ë¸”ë™ë³´ë“œì˜ íƒ€ê²Ÿì¸ì§€ í™•ì¸ í›„ íƒ€ê²Ÿì´ˆê¸°í™”   
* í‹±í•¨ìˆ˜ ë¹„í™œì„±í™”   
* FindTargetDelegate(ì½œë°±í•¨ìˆ˜ì—ì„œ ëª¬ìŠ¤í„°ì˜ HPBar ë¹„í™œì„±í™”) ì‹¤í–‰   

### í–‰ë™íŠ¸ë¦¬
![image](https://github.com/user-attachments/assets/949de752-ae9d-4bd9-a897-88b2f072c0cc)

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>


<br/>


## GameMode
![image](https://github.com/user-attachments/assets/b17e3b4c-0ee7-4d25-a189-1965e5df05b7)
* ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ìƒì†ë°›ì€ í•¨ìˆ˜ë“¤ì´ ì‹¤í–‰ë˜ë©´ í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì „ë‹¬í•´ UIë¥¼ ìƒì„±

<br/>

> OnPlayerDead í˜¸ì¶œ

	void APPGASCharacterPlayer::SetDead()
	{
		Super::SetDead();

		~~~

		IPPGameInterface* IPPGameMode = Cast<IPPGameInterface>(GetWorld()->GetAuthGameMode());
		if (IPPGameMode)
		{
			IPPGameMode->OnPlayerDead();
		}
	}
 
* í”Œë ˆì´ì–´ì˜ SetDead í•¨ìˆ˜ê°€ í˜¸ì¶œ
* GameModeë¥¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜í•´ ê²Œì„ëª¨ë“œë¥¼ ì§ì ‘ ì°¸ì¡°í•˜ì§€ ì•Šê³  ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ê°„ì ‘ ì°¸ì¡°í•¨
* ì¸í„°í˜ì´ìŠ¤ì˜ OnPlayerDead í•¨ìˆ˜ë¥¼ ì‹¤í–‰

<br/>

> GameMode::OnPlayerDead

	void APPGameMode::OnPlayerDead()
	{
		APPPlayerController* PlayerController = Cast<APPPlayerController>(GetWorld()->GetFirstPlayerController());
		if (PlayerController)
		{
			PlayerController->GameOver();
		}
	}

* í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ê°€ì ¸ì˜´
* ì»¨íŠ¸ë¡¤ëŸ¬ì˜ GameOverí•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ UI ìƒì„±

<br/>

> OnTakeDamage í˜¸ì¶œ

	//APPGASCharacterNonPlayer í´ë˜ìŠ¤(Grunt ë¶€ëª¨í´ë˜ìŠ¤)
	void APPGASCharacterNonPlayer::PossessedBy(AController* NewController)
	{
		Super::PossessedBy(NewController);

		~~~

		ASC->GetGameplayAttributeValueChangeDelegate(UPPGruntAttributeSet::GetDamageAttribute()).
			AddUObject(this, &APPGASCharacterNonPlayer::TakeDamage);
	}

	//APPGASCharacterGrunt í´ë˜ìŠ¤
	void APPGASCharacterGrunt::TakeDamage()
	{
		Super::TakeDamage(ChangeData);

		if (ChangeData.NewValue > 0)
		{
			IPPGameInterface* IPPGameMode = Cast<IPPGameInterface>(GetWorld()->GetAuthGameMode());
			if (IPPGameMode)
			{
				IPPGameMode->OnTakeDamage(ChangeData.NewValue, GetActorLocation());
			}
		}
	}

* Grunt ë¶€ëª¨í´ë˜ìŠ¤(ë‹¤ë¥¸ ëª¬ìŠ¤í„°ë“¤ì´ ì‚¬ìš©í•  ê²½ìš°ë¥¼ ê³ ë ¤)ì˜ PossessedBy í•¨ìˆ˜ì—ì„œ Damage ì–´íŠ¸ë¦¬ë·°íŠ¸ ì²´ì¸ì§€ ë¸ë¦¬ê²Œì´íŠ¸ì— í•¨ìˆ˜ ë°”ì¸ë“œ
* TakeDamage í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ ê²Œì„ëª¨ë“œë¥¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜
* OnTakeDamage í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì€ ë°ë¯¸ì§€ ê°’, ëª¬ìŠ¤í„°ì˜ ìœ„ì¹˜ë¥¼ ì „ë‹¬

<br/>

> GameMode::OnTakeDamage

	void APPGameMode::OnTakeDamage(const float& Damage, const FVector& ActorPosition)
	{
		APPPlayerController* PlayerController = Cast<APPPlayerController>(GetWorld()->GetFirstPlayerController());
		if (PlayerController)
		{
			PlayerController->ActorTakedDamage(Damage, ActorPosition);
		}
	}

* í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ê°€ì ¸ì™€ Damage, ActorPositionì„ ë„˜ê²¨ ë°ë¯¸ì§€ UIìƒì„±

<br/>


## PlayerController
> APPPlayerController

	void APPPlayerController::BeginPlay()
	{
		Super::BeginPlay();

		SetInputMode(FInputModeGameOnly());

		HUDWidget = CreateWidget<UPPHUDWidget>(this, HUDWidgetClass);
			if (HUDWidget)
		{
			HUDWidget->AddToViewport();
		}
	}

* ì¸í’‹ëª¨ë“œ ê´€ë¦¬
* í”Œë ˆì´ì–´ HUD ìƒì„±

<br/>

> APPPlayerController

	void APPPlayerController::GameOver()
	{
		GameOverUIWidget = CreateWidget<UPPGameOverUserWidget>(this, GameOverUIClass);
		if (GameOverUIWidget)
		{
			GameOverUIWidget->AddToViewport();
			EnableInput(this);
			SetShowMouseCursor(true);
		}
	}

* GameOverUI ê´€ë¦¬
* ê²Œì„ëª¨ë“œë¡œ ë¶€í„° GameOver í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ UI ìƒì„± ë° ë·°í¬íŠ¸ ì¶”ê°€

<br/>

> APPPlayerController.h

	//í”Œë ˆì´ì–´ì»¨íŠ¸ë¡¤ëŸ¬ í—¤ë”íŒŒì¼
	UPROPERTY(EditAnywhere, Category = "HUD")
	TSubclassOf<class UUserWidget> DamageUIClass;

	UPROPERTY(VisibleAnywhere, Category = "HUD")
	TArray<TWeakObjectPtr<class UPPFloatingTextUserWidget>> DamageUIArray;

* DamageUI ê´€ë¦¬
* DamageUIClass : ìƒì„±í•  UIë¥¼ ì €ì¥
* DamageUIArray : ìƒì„±í•˜ê³  ì¼ì •ì‹œê°„í›„ íŒŒê´´ë˜ëŠ” DamgeUI íŠ¹ì„±ìœ¼ë¡œ ì•½ì°¸ì¡°í•˜ëŠ” WeekObjectPtrë¡œ ì„ ì–¸
* TQueue ì»¨í…Œì´ë„ˆê°€ UPROPERTYë¥¼ ì§€ì›í•˜ì§€ ì•Šì•„ TArrayë¥¼ ì´ìš©í•˜ì—¬ TQueueë¥¼ ëŒ€ì²´í•¨

<br/>

> APPPlayerController.cpp

	//ActorTakedDamage í•¨ìˆ˜
	TWeakObjectPtr<UPPFloatingTextUserWidget> DamageUI = CreateWidget<UPPFloatingTextUserWidget>(this, DamageUIClass);
	if (DamageUI.IsValid())
	{
 		DamageUI.Get()->EndLifeTime.BindLambda([&]()
   		{
   			~~~ 
   		});

		//SetTextWidgetí•¨ìˆ˜ë¥¼ ë¨¼ì € ì‹¤í–‰ë’¤ ê²°ê³¼ì— ë”°ë¼ í•¨ìˆ˜ ì‹¤í–‰
		if (DamageUI.Get()->SetTextWidget(Damage, ActorPosition))
		{
			DamageUIArray.Emplace(DamageUI.Get());
			DamageUI.Get()->AddToViewport();
		}	
	}

* DamageUI ìƒì„± í›„ SetTextWidget í•¨ìˆ˜ ì‹¤í–‰
* ìƒì„±í•œ UIë¥¼ Arrayì— ì¶”ê°€ í›„ ë·°í¬íŠ¸ì— ì¶”ê°€

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>


<br/>


## UI
### ëª¬ìŠ¤í„° HP BAR
![image](https://github.com/user-attachments/assets/e2bf30e5-bd5e-44be-a264-ae9723ed376a)
<br/>

### WidgetComponent
> UPPGASWidgetComponent.cpp

	//InitWidget í•¨ìˆ˜
	UPPGASUserWidget* GASUserWidget = Cast<UPPGASUserWidget>(GetWidget());
	if (GASUserWidget)
	{
		GASUserWidget->SetAbilitySystemComponent(GetOwner());
	}

* WidgetComponentì—ì„œ ìœ„ì ¯ ì»´í¬ë„ŒíŠ¸ê°€ ì´ˆê¸°í™” ë ë•Œ SetAbilitySystemComponent í•¨ìˆ˜ì— ì˜¤ë„ˆë¥¼ ì „ë‹¬
* InitWidget í•¨ìˆ˜ì—ì„œ ìƒì„±í•œ ìœ„ì ¯ì„ ê°€ì ¸ì™€ ì˜¤ë„ˆë¥¼ ë„˜ê²¨ì¤Œ

### PPGASUserWidget
> UPPGASUserWidget 

	//í—¤ë”íŒŒì¼
	virtual void SetAbilitySystemComponent(AActor* Owner);
 
	//CppíŒŒì¼
	void UPPGASUserWidget::SetAbilitySystemComponent(AActor* Owner)
	{
	    if (IsValid(Owner))
	    {
	        ASC = UAbilitySystemBlueprintLibrary::GetAbilitySystemComponent(Owner);
	    }
	}

* ìœ„ì ¯ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶€ëª¨ë¡œ ìœ„ì ¯ì„ ìƒì„±í•˜ë©´ ìœ„ì ¯ì—ì„œ ì œê³µí•˜ëŠ” GetOwningPlayer í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ   
* ê·¸ëŸ¬ë¯€ë¡œ ë¶€ëª¨ ìœ„ì ¯ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì˜¤ë„ˆë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ìƒì„±í•´ì•¼ ë¨
* UPPGASUserWidgetì„ ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜ í•  ìˆ˜ ìˆê²Œ ê°€ìƒí•¨ìˆ˜ë¡œ ì„ ì–¸

### PPGASHPBarUserWidget
> UPPGASHpBarUserWidget.cpp

	void UPPGASHpBarUserWidget::SetAbilitySystemComponent(AActor* Owner)
	{
		Super::SetAbilitySystemComponent(Owner);

		if (ASC)
		{
			//íŠ¹ì • ì–´íŠ¸ë¦¬ë·°íŠ¸ê°’ì´ ë°”ë€”ë•Œ ë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” ë¸ë¦¬ê²Œì´íŠ¸
			ASC->GetGameplayAttributeValueChangeDelegate(UPPCharacterAttributeSet::GetHealthAttribute()).
				AddUObject(this, &UPPGASHpBarUserWidget::OnHealthAttributeChange);
			ASC->GetGameplayAttributeValueChangeDelegate(UPPCharacterAttributeSet::GetMaxHealthAttribute()).
				AddUObject(this, &UPPGASHpBarUserWidget::OnMaxHealthAttributeChange);
	
			~~~
		}
	}
 
* ë¶€ëª¨í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ ASCë¥¼ ê°€ì ¸ì˜´
* SetAbilitySystemComponent í•¨ìˆ˜ì—ì„œ ë§¤ê°œë³€ìˆ˜ë¡œ ë“¤ì–´ì˜¨ ì˜¤ë„ˆë¥¼ ì´ìš©í•˜ì—¬ ASCì— ì–´íŠ¸ë¦¬ë·°íŠ¸ ì²´ì¸ì§€ ë¸ë¦¬ê²Œì´íŠ¸ì— í•¨ìˆ˜ ë“±ë¡
* í”„ë¡œê·¸ë˜ìŠ¤ë°”, í…ìŠ¤íŠ¸ ë°•ìŠ¤ ê´€ë¦¬

### Player HUD
![image](https://github.com/user-attachments/assets/bd804c33-c2a1-4105-b9d7-aad5f35e5fa1)
<br/>

### PPHUDWidget
* ìƒì„±í•œ ìœ„ì ¯ë“¤ì„ ê´€ë¦¬í•  í´ë˜ìŠ¤
* PPPlayerStatBarUserWidget ìƒì„±

### PPPlayerStatBarUserWidget
* ASCë¥¼ í†µí•´ ì–´íŠ¸ë¦¬ë·°íŠ¸ ì²´ì¸ì§€ ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ í†µí•´ ì½œë°±í•¨ìˆ˜ ì—°ê²°
* í”„ë¡œê·¸ë˜ìŠ¤ë°”, í…ìŠ¤íŠ¸ë°•ìŠ¤ ìƒì„±

## ì¬ì‹œì‘ UI

https://github.com/user-attachments/assets/e9e4e0ee-f90a-4545-8b29-fa12db39658c

![image](https://github.com/user-attachments/assets/796bd9f7-2586-4520-bc19-a23bb26e9eab)
<br/>

1. ìºë¦­í„° ì‚¬ë§ì‹œ SetDead í•¨ìˆ˜ê°€ ì‹¤í–‰
2. GameModeë¥¼ ê°€ì ¸ì™€ ìƒì†ë°›ì€ ì¸í„°í˜ì´ìŠ¤ë¡œ ìºìŠ¤íŒ…í•˜ì—¬ í•¨ìˆ˜ ì‹¤í–‰
3. ê²Œì„ëª¨ë“œì—ì„œ PlayerController í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ UI ìƒì„±

<br/>

> UPPGameOverUserWidget

 	//í—¤ë”íŒŒì¼
  	UFUNCTION(BlueprintCallable, Meta = (DisplayName = "BtnEventGameRestartCpp"))
	void BtnEventGameRestart();

![image](https://github.com/user-attachments/assets/7a643519-adc4-44aa-b12b-abd0c138ba32)

 * ë²„íŠ¼ OnClicked ì´ë²¤íŠ¸ ì½œë°± í•¨ìˆ˜ë¥¼ BluprintCallable ì„¤ì •ì„ í•´ ë¸”ë£¨í”„ë¦°íŠ¸ì—ì„œ í•¨ìˆ˜ ë°”ì¸ë“œ

> UPPGameOverUserWidget
	
  	//cppíŒŒì¼
   	//BtnEventGameRestart
	void UPPGameOverUserWidget::BtnEventGameRestart()
	{
		APlayerController* OwingPlayerController = GetOwningPlayer();
	
		if (OwingPlayerController)
		{
			//Level restart
			UGameplayStatics::OpenLevel(GetWorld(), GetWorld()->GetFName());
	
			//ì‚¬ìš©ì ì…ë ¥ ë¹„í™œì„±í™”
			OwingPlayerController->SetShowMouseCursor(false);
			OwingPlayerController->DisableInput(OwingPlayerController);
	
			//í•¨ìˆ˜ì‹¤í–‰ì‹œ í•´ë‹¹ ìœ„ì ¯ ì œê±°
			RemoveFromParent();
		}
	}

 * í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í†µí•´ ì…ë ¥ì„ ë¹„í™œì„±í™” ë° í˜„ì¬ ë ˆë²¨ ì¬ì‹œì‘
 * RemoveFromParentë¥¼ í˜¸ì¶œí•´ ìœ„ì ¯ ì œê±°

<br/>

## Damage UI

https://github.com/user-attachments/assets/7e05d46d-074b-4ccf-9e8e-c709ea7f9647

![image](https://github.com/user-attachments/assets/064dbf8b-7813-4201-8201-5f78d2bfd78a)

1. ë°ë¯¸ì§€ ì–´íŠ¸ë¦¬ë·°íŠ¸ê°€ ë°”ë€Œë©´ ê²Œì„ëª¨ë“œë¥¼ ê°€ì ¸ì™€ ìƒì†ë°›ì€ ì¸í„°í˜ì´ìŠ¤ë¡œ ìºìŠ¤íŒ…í•˜ì—¬ í•¨ìˆ˜ì‹¤í–‰
2. ê²Œì„ëª¨ë“œì—ì„œ í”Œë ˆì´ì–´ì»¨íŠ¸ë¡¤ëŸ¬ í•¨ìˆ˜ ì‹¤í–‰
3. í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°ë¯¸ì§€ UI ìƒì„± ë° ê´€ë¦¬
4. AddViewport í•¨ìˆ˜ ì‹¤í–‰ì „ SetTextWidget í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ìœ„ì ¯ì˜ ìœ„ì¹˜, í…ìŠ¤íŠ¸ë¥¼ ì„¤ì •

<br/>

![image](https://github.com/user-attachments/assets/833e316f-0f92-4484-b664-8a816dc02c2f)

>APPPlayerController.cpp

	//ActorTakedDamage í•¨ìˆ˜
	//DamageUIì˜ ë¸ë¦¬ê²Œì´íŠ¸ì— ë°”ì¸ë“œë˜ëŠ” ëŒë‹¤ í•¨ìˆ˜
	DamageUI.Get()->EndLifeTime.BindLambda([&]()
	{
		TWeakObjectPtr<UPPFloatingTextUserWidget> TempDamageUI = DamageUIArray[0];

		if (TempDamageUI.IsValid())
		{
			TempDamageUI.Get()->RemoveFromParent();
		}
			
		DamageUIArray.RemoveAt(0);
	});

1. í”Œë ˆì´ì–´ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ SetTextWidget í•¨ìˆ˜ ì‹¤í–‰
2. DamageUIì—ì„œ í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ê°€ì ¸ì™€ 3Dì¢Œí‘œë¥¼ ë·°í‘œíŠ¸ ì¢Œí‘œë¡œ ë³€í™˜ í›„ ë°ë¯¸ì§€ í…ìŠ¤íŠ¸ ì„¤ì •
3. í”Œë ˆì´ì–´ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ DamageUI ìƒì„±í›„ ë·°í¬íŠ¸ì— ì¶”ê°€ë˜ë©´ NativeConstruct ì‹¤í–‰
4. Fade ì• ë‹ˆë©”ì´ì…˜ Finished ë¸ë¦¬ê²Œì´íŠ¸ì— AnimationFinished í•¨ìˆ˜ ë°”ì¸ë“œ í›„ UI í¬ì§€ì…˜ ì„¤ì • ë° ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ
5. AnimationFinished í•¨ìˆ˜ í˜¸ì¶œì´ ë˜ë©´ ë°”ì¸ë“œëœ ëŒë‹¤ í•¨ìˆ˜ ì‹¤í–‰

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>

## 10 FPS, ì œí•œì—†ìŒ

https://github.com/user-attachments/assets/7f20ad76-1a5a-4516-bb73-a703ea676fb4

# ì œí•œì—†ìŒ, 500 pktLag

https://github.com/user-attachments/assets/c0b0fed6-6966-45b5-bd5b-dc073ae2f612

<div align="right">
  
[ëª©ì°¨ë¡œ](#ì „ì²´-í”„ë¡œì íŠ¸)

</div>
